@model SwachBharat.CMS.Bll.ViewModels.ChildModel.Model.HSDashBoardVM



@{
    Layout = "";
}


<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>@ViewBag.Title</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="all,follow">
    @Styles.Render("~/Content/ThemeCss")
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    @*@Scripts.Render("~/bundles/modernizr")*@
    @*@RenderSection("styles", required: false)*@
    <link rel="shortcut icon" href="/Content/images/img/ictsbm2.png" />
    @Scripts.Render("~/Scripts/IndexScript")

    @Styles.Render("~/Content/IndexCSS")
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,700,300|Material+Icons' rel='stylesheet' type='text/css'>

    @Scripts.Render("~/Scripts/IndexScript")
    @*<script src="~/Content/DatatableGrid/HouseScanify.js"></script>*@

    <script src="~/Content/DatatableGrid/URGridDetails.js"></script>
    <style>
        .search {
            width: 85%;
            margin-left: 7%;
            border-radius: 10px;
            border: 1px solid #bbb7b7;
            text-align: center;
        }

        .nav-tag {
            display: inline-block;
            font-size: 14px;
            margin-right: 5%;
            position: relative;
            color: #000 !important;
        }

            .current, .nav-tag:hover {
                color: #189cdf !important;
                box-shadow: 0 0 0 0.2rem rgb(0 123 255 / 45%)
            }

                .current svg, svg:hover {
                    fill: #189cdf !important;
                }
    </style>
</head>

<body>
    <input type="hidden" value="@ViewBag.AppId" id="appid" />
    <input type="hidden" value="@ViewBag.UType" id="UType" />
    <input type="hidden" value="@ViewBag.HSuserid" id="HSID" />

    <div class="page">
        <!-- Main Navbar-->
        <header class="header">
            <nav class="navbar  pb-0">
                <!-- Search Box-->
                <div class="search-box">
                    <button class="dismiss"><i class="icon-close"></i></button>
                    <form id="searchForm" action="#" role="search">
                        <input type="search" placeholder="What are you looking for..." class="form-control">
                    </form>
                </div>

                <div class="container-fluid">
                    <div class="navbar-holder d-flex align-items-center justify-content-between">
                        <!-- Navbar Header-->
                        <div class="navbar-header">
                            <!-- Navbar Brand --><a href="#" class="navbar-brand">
                                <div class="brand-text brand-big"><span><img style="height:40px;width:50px;" src="~/Content/images/img/house_icon.svg" /> </span><strong style="font-size:15px;margin-left:3%"> House / Liquid / Street Scanify</strong></div>
                                <div class="brand-text brand-small"><strong><img style="height:40px;width:50px;" src="~/Content/images/img/house_icon.svg" /> </strong></div>
                            </a>
                            <!-- Toggle Button--><a id="toggle-btn" href="#" class="menu-btn active"><span></span><span></span><span></span></a>
                        </div>
                        <!-- Navbar Menu -->
                        <!-- Logout    -->
                        @*<li class="nav-item" style="list-style: none;"><a href="/houseScanifyemp/login" class="nav-link logout">Logout<i class="fa fa-sign-out"></i></a></li>*@
                        <li class="nav-item" style="list-style: none; margin-left: 50%;" id="HDUserid"></li>
                        <li class="nav-item" style="list-style: none;" id="HSType"> </li>

                        @Html.Partial("_HSLoginPartial")
                    </div>
                </div>
                <div class="px-5 py-2" id="myDIV" style="padding-left: 20% !important; width: 100%; background: #ffffff; display: none">
                    <a href="HSMenuIndex" title="User Right" class="btn nav-tag" id="home">
                        <i style="position: absolute; left: 5%;">
                            <svg class='svg' version='1.1' id='Capa_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='20px' height='20px' fill="#000000" viewBox='0 0 640 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'><g><path d='M319.9 320c57.41 0 103.1-46.56 103.1-104c0-57.44-46.54-104-103.1-104c-57.41 0-103.1 46.56-103.1 104C215.9 273.4 262.5 320 319.9 320zM369.9 352H270.1C191.6 352 128 411.7 128 485.3C128 500.1 140.7 512 156.4 512h327.2C499.3 512 512 500.1 512 485.3C512 411.7 448.4 352 369.9 352zM512 160c44.18 0 80-35.82 80-80S556.2 0 512 0c-44.18 0-80 35.82-80 80S467.8 160 512 160zM183.9 216c0-5.449 .9824-10.63 1.609-15.91C174.6 194.1 162.6 192 149.9 192H88.08C39.44 192 0 233.8 0 285.3C0 295.6 7.887 304 17.62 304h199.5C196.7 280.2 183.9 249.7 183.9 216zM128 160c44.18 0 80-35.82 80-80S172.2 0 128 0C83.82 0 48 35.82 48 80S83.82 160 128 160zM551.9 192h-61.84c-12.8 0-24.88 3.037-35.86 8.24C454.8 205.5 455.8 210.6 455.8 216c0 33.71-12.78 64.21-33.16 88h199.7C632.1 304 640 295.6 640 285.3C640 233.8 600.6 192 551.9 192z' /></g></svg>
                        </i>
                        <span class="ml-4">Home</span>
                    </a>
                    <a href="HSURIndex" title="User Right" class="btn nav-tag">
                        <i style="position: absolute; left: 5%;">
                            <svg class='svg' version='1.1' id='Capa_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='20px' height='20px' fill="#000000" viewBox='0 0 640 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'><g><path d='M319.9 320c57.41 0 103.1-46.56 103.1-104c0-57.44-46.54-104-103.1-104c-57.41 0-103.1 46.56-103.1 104C215.9 273.4 262.5 320 319.9 320zM369.9 352H270.1C191.6 352 128 411.7 128 485.3C128 500.1 140.7 512 156.4 512h327.2C499.3 512 512 500.1 512 485.3C512 411.7 448.4 352 369.9 352zM512 160c44.18 0 80-35.82 80-80S556.2 0 512 0c-44.18 0-80 35.82-80 80S467.8 160 512 160zM183.9 216c0-5.449 .9824-10.63 1.609-15.91C174.6 194.1 162.6 192 149.9 192H88.08C39.44 192 0 233.8 0 285.3C0 295.6 7.887 304 17.62 304h199.5C196.7 280.2 183.9 249.7 183.9 216zM128 160c44.18 0 80-35.82 80-80S172.2 0 128 0C83.82 0 48 35.82 48 80S83.82 160 128 160zM551.9 192h-61.84c-12.8 0-24.88 3.037-35.86 8.24C454.8 205.5 455.8 210.6 455.8 216c0 33.71-12.78 64.21-33.16 88h199.7C632.1 304 640 295.6 640 285.3C640 233.8 600.6 192 551.9 192z' /></g></svg>
                        </i>
                        <span class="ml-4"> User Right</span>
                    </a>
                    <a href="HSURAttendance" title="User Attendance" class="btn nav-tag">
                        <i style="position: absolute; left: 5%;">
                            <svg class='svg' version='1.1' id='Capa_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='20px' height='20px' fill="#000000" viewBox='0 0 640 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'><g><path d='M496 224c-79.63 0-144 64.38-144 144s64.38 144 144 144s144-64.38 144-144S575.6 224 496 224zM544 384h-54.25C484.4 384 480 379.6 480 374.3V304c0-8.836 7.164-16 16-16c8.838 0 16 7.164 16 16v48h32c8.838 0 16 7.164 16 15.1S552.8 384 544 384zM224 256c70.7 0 128-57.31 128-128S294.7 0 224 0C153.3 0 96 57.31 96 128S153.3 256 224 256zM320 368c0-19.3 3.221-37.82 8.961-55.2C311.9 307.2 293.6 304 274.7 304H173.3C77.61 304 0 381.7 0 477.4C0 496.5 15.52 512 34.66 512H395C349.7 480.2 320 427.6 320 368z' /></g></svg>
                        </i>
                        <span class="ml-4"> User Attendance</span>
                    </a>
                    <a href="HSAppArea" title="Map Area Beat" class="btn nav-tag">
                        <i style="position: absolute; left: 5%;">
                            <svg class='svg' version='1.1' id='Capa_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='20px' height='20px' fill="#000000" viewBox='0 0 640 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'><g><path d='M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM57.71 192.1L67.07 209.4C75.36 223.9 88.99 234.6 105.1 239.2L162.1 255.7C180.2 260.6 192 276.3 192 294.2V334.1C192 345.1 198.2 355.1 208 359.1C217.8 364.9 224 374.9 224 385.9V424.9C224 440.5 238.9 451.7 253.9 447.4C270.1 442.8 282.5 429.1 286.6 413.7L289.4 402.5C293.6 385.6 304.6 371.1 319.7 362.4L327.8 357.8C342.8 349.3 352 333.4 352 316.1V307.9C352 295.1 346.9 282.9 337.9 273.9L334.1 270.1C325.1 261.1 312.8 255.1 300.1 255.1H256.1C245.9 255.1 234.9 253.1 225.2 247.6L190.7 227.8C186.4 225.4 183.1 221.4 181.6 216.7C178.4 207.1 182.7 196.7 191.7 192.1L197.7 189.2C204.3 185.9 211.9 185.3 218.1 187.7L242.2 195.4C250.3 198.1 259.3 195 264.1 187.9C268.8 180.8 268.3 171.5 262.9 165L249.3 148.8C239.3 136.8 239.4 119.3 249.6 107.5L265.3 89.12C274.1 78.85 275.5 64.16 268.8 52.42L266.4 48.26C262.1 48.09 259.5 48 256 48C163.1 48 84.4 108.9 57.71 192.1L57.71 192.1zM437.6 154.5L412 164.8C396.3 171.1 388.2 188.5 393.5 204.6L410.4 255.3C413.9 265.7 422.4 273.6 433 276.3L462.2 283.5C463.4 274.5 464 265.3 464 256C464 219.2 454.4 184.6 437.6 154.5H437.6z' /></g></svg>
                        </i>
                        <span class="ml-4">Map Area Beat</span>
                    </a>
                    <a href="HSHousesListDownload" title="Download Houses" class="btn nav-tag">
                        <i style="position: absolute; left: 5%;">
                            <svg class='svg' version='1.1' id='Capa_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='20px' height='20px' fill="#000000" viewBox='0 0 640 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'><g><path d='M480 352h-133.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456zM233.4 374.6C239.6 380.9 247.8 384 256 384s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32C238.3 0 224 14.33 224 32v242.8L150.6 201.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z' /></g></svg>
                        </i>
                        <span class="ml-4">Download Houses</span>
                    </a>
                </div>
            </nav>
        </header>
        <div class="page-content d-flex align-items-stretch">
            <!-- Side Navbar -->
            <nav class="side-navbar">
                <!-- Sidebar Header-->
                <!--<ul style=" padding: 1PX; margin-bottom: 1PX;">
                    <li id='URbutton' class='py-2 px-4'><a href='HSURIndex' class="btn btn-primary" style="color: #fff !important; font-weight: 600">User Right</a></li>-->
                    @*<li id='Attendance' class='py-2 px-4'><a href='HSURAttendance' class="btn btn-primary" style="color:#fff !important;font-weight:600">User Attendance</a></li>*@
                    <!--<li id='btnAppArea' class='py-2 px-4'><a href='HSAppArea' class="btn btn-primary" style="color:#fff !important;font-weight:600">Map Area Beat</a></li>
                </ul>-->
                <input id="searchbar" onkeyup="search_ulbname()" type="text" name="search" placeholder="Search ULB Name" class="search">

                <ul class="list-unstyled" style="max-height:700px;overflow-y:auto">
                    <p id="img_ldr" style="display:block;position:absolute;top:40%;left:5%;">
                        <img style="height:90px" class="" src="~/Content/images/img/loading.gif">
                    </p>
                </ul>
                @*<span class="heading">Extras</span>*@

            </nav>

            <div class="content-inner">
                <br />

                <div class="container">
                    <div><h3 id="hchange" class="text-center text-bold" style="margin-bottom:2%"></h3></div>

                    <div class="row form" style="text-align: center; display: inline-flex;margin-left: 39%">
                        <label class="check-container" style="font-size: 18px;">
                            <input type="radio" checked="checked" value="0" name="radio">
                            Active User


                            <span class="checkmark"></span>
                        </label>
                        <label class="check-container" style="font-size: 18px;">
                            <input type="radio" value="1" name="radio">
                            Non Active User

                            <span class="checkmark"></span>
                        </label>
                    </div>
                    <div class="row">
                        <span class="backk" style="margin-left: 15px;">

                            <a href="@Url.Action("HSMenuIndex", "HouseScanifyEmp")" id="btnBack" class="btn btn-sm btn-primary filter-button-style"><span class="glyphicon glyphicon-circle-arrow-left"></span>  Back</a>

                        </span>
                        <span class="backks" style="margin-left: 68%;">
                            <a href="AddHSUREmployeeDetails" class="btn btn-primary btn-sm float-right mr-3" type="button">Add User</a>


                            <label style="display:inline-flex;padding-right:5px" class="float-right">Search:&nbsp;<input type="text" id="s" class="form-control form-control-sm" onkeyup="Search()"></label>
                        </span>
                        <h4 id="ulb_name" class="text-center" style="padding-left:14px;width:80%"></h4>

                    </div>
                    <br />


                </div>

                <div class="container" style="overflow-y:auto">
                    <br />
                    <div style="width:100%; margin:0 auto;">
                        @*<a href="AttendenceIndex" class="btn btn-success btn-sm float-right" type="button">Attendance</a>
                            <a href="AddHSEmployeeDetails" class="btn btn-success btn-sm float-right" type="button">Add Employee</a>*@
                        @*<label style="display:inline-flex;padding-right:5px" class="float-right">Search:&nbsp;<input type="text" id="s" class="form-control form-control-sm" onkeyup="Search()"></label>*@
                        <table id="demoGrid" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0" style="font-size:14px">

                            <thead style="font-size:14px">


                                <tr>
                                    <th>Id</th>
                                    <th> Date</th>
                                    <th> User Name</th>
                                    <th> User Role</th>
                                    <th> Status</th>
                                    <th> Action</th>
                                </tr>
                            </thead>


                        </table>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script async defer src="https://maps.googleapis.com/maps/api/js?key=@Session["apikey"]&callback=myMap" type="text/javascript"></script>
    <!-- Dashboard Header Section    -->

    <script>

        jQuery(function ($) {
            var path = window.location.href;
            // because the 'href' property of the DOM element is the absolute path
            $('#myDIV a').each(function () {
                if (this.href === path) {
                    $(this).addClass('current');
                }
            });
        });


        var date = new Date();

        var day = date.getDate();
        var month = date.getMonth() + 1;
        var year = date.getFullYear();

        if (month < 10) month = "0" + month;
        if (day < 10) day = "0" + day;

        var today = day + "/" + month + "/" + year;

        document.getElementById('txt_fdate').value = today;
        document.getElementById('txt_tdate').value = today;


    </script>
    <script src="~/Content/graph-assets/js/custom.js"></script>
    <script src="~/Content/css/datepicker/js/datepicker.js"></script>
    <script>
        
        var HSID = $('#HSID').val();
        document.getElementById("HDUserid").innerHTML = HSID.toUpperCase();

        var Utypes = $('#UType').val();
        if (Utypes == 'A') {
            //$('#URbutton').show();
            //document.getElementById("URbutton").style.display = "block";
            ///*   document.getElementById("Attendance").style.display = "block";*/
            //document.getElementById("btnAppArea").style.display = "block";
            document.getElementById("HSType").innerHTML = "(ADMIN)";
            $("#myDIV").hide();

        }
        else if (Utypes == 'SA') {
            // $('#URbutton').hide();
            //document.getElementById("URbutton").style.display = "none";
            ///*   document.getElementById("Attendance").style.display = "none";*/
            //document.getElementById("btnAppArea").style.display = "none";
            document.getElementById("HSType").innerHTML = "(SUPERVISOR)";
            $("#myDIV").hide();
        }
        else if (Utypes == 'SUA') {
            // $('#URbutton').hide();
            //document.getElementById("URbutton").style.display = "none";
            ///*   document.getElementById("Attendance").style.display = "none";*/
            //document.getElementById("btnAppArea").style.display = "none";
            document.getElementById("HSType").innerHTML = "(SUPERADMIN)";
            $("#myDIV").show();
        }
        function AppList(Id) {
            //alert(Id);
            
            if (Id != null) {
                var url = "/HouseScanifyEmp/HSUserList?AppId=" + Id;
                window.location.href = url;
            }
        };


    </script>
    <script>


        $(document).ready(function () {
            // var ulb_menu=JSON.parse(window.localStorage.getItem("ulb_menu"));

            var getthevalue = $(this).attr('id');
            var appid = $('#appid').val();

            $.get("/houseScanifyEmp/GameAppList", null, house);
            function house(data) {
                var res = '';
                //for (var i = 0; i < data.length; i++) {
                //    res += "<li class=''><a style='cursor:pointer'class='li-hover' onclick='Edit(" + data[i].AppId + ")' id='" + data[i].AppId + "' >" + data[i].AppName + "</a></li>";
                //}
                var url_string = window.location.href; //window.location.href
                var url = new URL(url_string);
                var AppId_New = url.searchParams.get("AppId");


                for (var i = 0; i < data.length; i++) {
                    res += "<li class='' ><a style='cursor:pointer' class='li-hover' onclick='AppList(" + data[i].AppId + ")' id='" + data[i].AppId + "' >" + data[i].AppName + " ";
                    if (data[i].FAQ == 1) {
                        res += "<i class='fa fa-circle pull-right' style='color:#fe9428;font-size:12px;margin: 3% auto;'></i>";
                    }
                    //if (AppId_New == data[i].AppId) {
                    //      res += "<i class='fa fa-circle pull-right' style='color:#fe9428;font-size:12px;margin: 3% auto;'></i>";
                    //}
                    res += "</a></li>";
                }


                $('.list-unstyled').html(res);
                $('#img_ldr').css("display", "none");
                $('#' + appid).parents('li').addClass('active');

                $(".li-hover").hover(function () {
                    $(this).css("color", "#fff");
                }, function () {
                    $(this).css("color", "#6c757d");
                });
                $(".active a").hover(function () {
                    $(this).css("color", "#fff");
                }, function () {
                    $(this).css("color", "#fff");
                });

            }



        });






    </script>

    <script type="text/javascript">
        $('input[type=radio][name=radio]').change(function () {

            

            LoadGridC();
        });

        function LoadGridC() {
            var RadioValue = $("input[name='radio']:checked").val();
            
            if (RadioValue == 0) {
                
                $('#s').val('');
                LoadAGrid();
                $('#hchange').text('Active User');

            }
            else if (RadioValue == 1) {
                $('#s').val('');
                LoadNGrid();
                $('#hchange').text('Non Active User');

            }

        }



        function Search() {
            
            var value = ",,," + $("#s").val();
            oTable = $('#demoGrid').DataTable();
            oTable.search(value).draw();
            oTable.search("");
            document.getElementById('USER_ID_FK').value = -1;
        }

    </script>



    <script type="text/javascript">

        $(document).ready(function () {
            
            LoadGridC();

        });


    </script>
    <script type="text/javascript">
        $('.datepicker').datepicker({
            format: 'dd/mm/yyyy',
            weekStart: 1,
            color: 'red',
            pickTime: false
        }).on('changeDate', function (e) {

            $(this).datepicker('hide');

        });
        //hide  show on hover
        $('#txt_fdate').focus(function () {
            $('.dtpk_drpdwn').eq(1).hide();
        });
        $('#txt_tdate').focus(function () {
            $('.dtpk_drpdwn').eq(0).hide();
        });


    </script>


</body>
</html>